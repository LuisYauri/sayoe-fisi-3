<mat-card class="title-card">
    <mat-card-header>
        <mat-card-title><i class="fas fa-file-alt size-icon-title"></i>Evaluaciones Psicológicas Pendientes
        </mat-card-title>
    </mat-card-header>
</mat-card>
<mat-card class="body-card">
    <mat-card-content>
        <div *ngIf="arrayGetEPPendientes; else vacio">
            <div class="row" *ngFor="let psPendientes of arrayGetEPPendientes">
                <div class="col-sm-12">
                    <div class="ps-bar-title">
                        <div class="ps-text-title"> P.S. {{psPendientes.anho + "-" + psPendientes.semestre}}</div>
                        <div class="ps-date-title">
                            <div class="ps-date-subtitle">Límite <span class="ps-date-sub-subtitle">{{psPendientes.fecha_vencimiento}}</span></div>
                        </div>
                    </div>
                </div>
                    <div class="col-sm-12">
                        <div class="table-container">
                            <table mat-table [dataSource]="psPendientes.estadosPerfil"
                                   class="table-rwd mat-elevation-0">
                                <ng-container matColumnDef="titulo">
                                    <th class="table-th" mat-header-cell *matHeaderCellDef>Título</th>
                                    <td class="table-td" mat-cell *matCellDef="let element"> {{element.titulo_secundario}} </td>
                                </ng-container>
                                <ng-container matColumnDef="preguntas">
                                    <th class="table-th " mat-header-cell *matHeaderCellDef>Preguntas</th>
                                    <td class="table-td " mat-cell
                                        *matCellDef="let element">{{element.nro_preguntas}}</td>
                                </ng-container>
                                <ng-container matColumnDef="acciones">
                                    <th class="table-th" mat-header-cell *matHeaderCellDef> Acción </th>
                                    <td class="table-td" mat-cell *matCellDef="let element">
                                        <button mat-flat-button class="table-detalles-icon" (click)="abrirEP(element.id_cuest_eval, psPendientes.id_perfil_psico)"><i class="fas fa-gamepad"></i></button>
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                        </div>
                    </div>

            </div>
        </div>
        <ng-template #vacio >
            <div class="mat-span-style">
                <mat-spinner class="spinner-style-item" diameter="40"></mat-spinner>
            </div>
        </ng-template>

    </mat-card-content>
</mat-card>
